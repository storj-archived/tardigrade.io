<div class="container-fluid">
  <div class="container">
    <div class="spacer125"></div>
    {{ with .Site.GetPage "pressHeading.md" }}
      <div class="row">
        <div class="col mt-5 text-center">
          <h2 >{{.Title}}</h2>
        </div>
        <div class="spacer125"></div>
      </div>
    {{end}}
    <div class="row">
      <div class="col-lg-2 years">
        <ul>
          <li class="year active">2019</li>
          <li class="year">2018</li>
          <li class="year">2017</li>
          <li class="year">2016</li>
          <li class="year">2015</li>
          <li class="year">2014</li>
        </ul>
      </div>
      <div class="col-lg-10 2019 article-group current-year">
       {{range where .Site.Pages ".Params.class" "pressArticle"}}
         {{ if in .Params.publishedOn "2019" }}
          <div class="row article">
            <div class="col-lg-9">
              <h4><a href="{{.Params.link}}" target="_blank" class="press-title link">{{.Params.articleName}}</a></h4>
            </div>
            <div class="col-lg-3">
              <span class="press-source">{{.Params.publishedBy}}</span>
            </div>
            <div class="col-lg-12">
              <p class="press-date">{{.Params.publishedOn}}</p>
            </div>
            <div class="spacer30"></div>
          </div>
        {{end}}
      {{end}}
    </div>
    <div class="col-lg-10 2018 article-group">
      {{range where .Site.Pages ".Params.class" "pressArticle"}}
        {{ if in .Params.publishedOn "2018" }}
        <div class="row article">
          <div class="col-lg-9">
            <h4><a href="{{.Params.link}}" target="_blank" class="press-title link">{{.Params.articleName}}</a></h4>
          </div>
          <div class="col-lg-3">
            <span class="press-source">{{.Params.publishedBy}}</span>
          </div>
          <div class="col-lg-12">
            <p class="press-date">{{.Params.publishedOn}}</p>
          </div>
          <div class="spacer30"></div>
        </div>
        {{end}}
      {{end}}
    </div>
    <div class="col-lg-10 2017 article-group">
      {{range where .Site.Pages ".Params.class" "pressArticle"}}
        {{ if in .Params.publishedOn "2017" }}
        <div class="row article">
          <div class="col-lg-9">
            <h4><a href="{{.Params.link}}" target="_blank" class="press-title link">{{.Params.articleName}}</a></h4>
          </div>
          <div class="col-lg-3">
            <span class="press-source">{{.Params.publishedBy}}</span>
          </div>
          <div class="col-lg-12">
            <p class="press-date">{{.Params.publishedOn}}</p>
          </div>
          <div class="spacer30"></div>
        </div>
        {{end}}
      {{end}}
    </div>
    <div class="col-lg-10 2016 article-group">
    {{range where .Site.Pages ".Params.class" "pressArticle"}}
      {{ if in .Params.publishedOn "2016" }}
        <div class="row article">
          <div class="col-lg-9">
            <h4><a href="{{.Params.link}}" target="_blank" class="press-title link">{{.Params.articleName}}</a></h4>
          </div>
          <div class="col-lg-3">
            <span class="press-source">{{.Params.publishedBy}}</span>
          </div>
          <div class="col-lg-12">
            <p class="press-date">{{.Params.publishedOn}}</p>
          </div>
          <div class="spacer30"></div>
        </div>
      {{end}}
    {{end}}
    </div>
    <div class="col-lg-10 2015 article-group">
      {{range where .Site.Pages ".Params.class" "pressArticle"}}
        {{ if in .Params.publishedOn "2015" }}
          <div class="row article">
            <div class="col-lg-9">
              <h4><a href="{{.Params.link}}" target="_blank" class="press-title link">{{.Params.articleName}}</a></h4>
            </div>
            <div class="col-lg-3">
              <span class="press-source">{{.Params.publishedBy}}</span>
            </div>
            <div class="col-lg-12">
              <p class="press-date">{{.Params.publishedOn}}</p>
            </div>
            <div class="spacer30"></div>
          </div>
        {{end}}
      {{end}}
    </div>
    <div class="col-lg-10 2014 article-group">
      {{range where .Site.Pages ".Params.class" "pressArticle"}}
        {{ if in .Params.publishedOn "2014" }}
          <div class="row article">
            <div class="col-lg-9">
              <h4><a href="{{.Params.link}}" target="_blank" class="press-title link">{{.Params.articleName}}</a></h4>
            </div>
            <div class="col-lg-3">
              <span class="press-source">{{.Params.publishedBy}}</span>
            </div>
            <div class="col-lg-12">
              <p class="press-date">{{.Params.publishedOn}}</p>
            </div>
            <div class="spacer30"></div>
          </div>
        {{end}}
      {{end}}
    </div>
    <div class="spacer30"></div>
    <div id="loadMore">
      <p>Load More</p>
    </div>
    <div class="spacer125"></div>
  </div>
</div>

<script type="text/javascript">

  $(document).ready(function(){

    $(".current-year .article").slice(0, 4).css("display", "flex");
    $("#loadMore").click(function(e){ // click event for load more
      e.preventDefault();
      if($(".current-year .article:hidden").length !== 0){ // check if any hidden divs still exist
        $(".current-year .article:hidden").slice(0, 4).css("display", "flex");
      } else if($(".current-year .article:hidden").length === 0){
        $("#loadMore").hide()
      }
    });

    $(".year").click(function(e){
      e.preventDefault();
      var year = $(event.target).text()
      $(".active").removeClass('active')
      $(e.target).addClass('active')
      $(".current-year").removeClass('current-year')
      $("." + year).addClass('current-year')
      $(".current-year .article").slice(0, 4).css("display", "flex");
      if($(".current-year .article:hidden").length > 0){
        $("#loadMore").show()
      } else if($(".current-year .article:hidden").length === 0){
        $("#loadMore").hide()
      }
    });

    if($(".current-year .article:hidden").length === 0){
      $("#loadMore").hide()
    }


  })


</script>
<!--   {{range where .Site.Pages.ByPublishDate.Reverse ".Params.class" "newPressArticle" }}
        <div class="row">
          <div class="col-xs-12 col-sm-3 col-lg-2">
            <p class="press-date"> {{ dateFormat "January 2, 2006" .Params.publishdate }}</p>
          </div>
          <div class="col-xs-12 col-sm-9 col-lg-10">
            <span class="press-source">{{.Params.publishedBy}}</span>
            <h4><a href="{{.Params.link}}" target="_blank" class="press-title link">{{.Params.articleName}}</a></h4>
          </div>
        </div>
        <hr>
{{end}}
</div>
</div> -->
