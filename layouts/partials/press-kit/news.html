<div class="container-fluid">
  <div class="container">
    <div class="spacer125"></div>
    {{ with .Site.GetPage "pressHeading.md" }}
      <div class="row">
        <div class="col mt-5 text-center">
          <h2 class="news_title" >{{.Title}}</h2>
        </div>
        <div class="spacer125"></div>
      </div>
    {{end}}
    <div class="row">
      <div class="col-lg-2 news_years-wrapper">
        <ul class="news_years-list">
          <li class="news_year active">2019</li>
          <li class="news_year">2018</li>
          <li class="news_year">2017</li>
          <li class="news_year">2016</li>
          <li class="news_year">2015</li>
          <li class="news_year">2014</li>
        </ul>
      </div>
      <div class="col-lg-10 2019 news_mobile-article-group">
         {{range where .Site.Pages ".Params.class" "pressArticle"}}
          <div class="row news_article">
            <div class="col-lg-9">
              <h4 class="news_article-name"><a href="{{.Params.link}}" target="_blank" class="news_article-name-link">{{.Params.articleName}}</a></h4>
            </div>
            <div class="col-lg-3">
              <span class="news_press-source">{{.Params.publishedBy}}</span>
            </div>
            <div class="col-lg-12">
              <p class="news_press-date">{{.Params.publishedOn}}</p>
            </div>
            <div class="spacer30"></div>
          </div>
        {{end}}
      </div>
      <div class="col-lg-10 2019 news_desktop-article-group current-year">
       {{range where .Site.Pages ".Params.class" "pressArticle"}}
         {{ if in .Params.publishedOn "2019" }}
           <div class="row news_article">
             <div class="col-lg-9">
               <h4 class="news_article-name"><a href="{{.Params.link}}" target="_blank" class="news_article-name-link">{{.Params.articleName}}</a></h4>
             </div>
             <div class="col-lg-3">
               <span class="news_press-source">{{.Params.publishedBy}}</span>
             </div>
             <div class="col-lg-12">
               <p class="news_press-date">{{.Params.publishedOn}}</p>
             </div>
             <div class="spacer30"></div>
           </div>
        {{end}}
      {{end}}
    </div>
    <div class="col-lg-10 2018 news_desktop-article-group">
      {{range where .Site.Pages ".Params.class" "pressArticle"}}
        {{ if in .Params.publishedOn "2018" }}
          <div class="row news_article">
            <div class="col-lg-9">
              <h4 class="news_article-name"><a href="{{.Params.link}}" target="_blank" class="news_article-name-link">{{.Params.articleName}}</a></h4>
            </div>
            <div class="col-lg-3">
              <span class="news_press-source">{{.Params.publishedBy}}</span>
            </div>
            <div class="col-lg-12">
              <p class="news_press-date">{{.Params.publishedOn}}</p>
            </div>
            <div class="spacer30"></div>
          </div>
        {{end}}
      {{end}}
    </div>
    <div class="col-lg-10 2017 news_desktop-article-group">
      {{range where .Site.Pages ".Params.class" "pressArticle"}}
        {{ if in .Params.publishedOn "2017" }}
          <div class="row news_article">
            <div class="col-lg-9">
              <h4 class="news_article-name"><a href="{{.Params.link}}" target="_blank" class="news_article-name-link">{{.Params.articleName}}</a></h4>
            </div>
            <div class="col-lg-3">
              <span class="news_press-source">{{.Params.publishedBy}}</span>
            </div>
            <div class="col-lg-12">
              <p class="news_press-date">{{.Params.publishedOn}}</p>
            </div>
            <div class="spacer30"></div>
          </div>
        {{end}}
      {{end}}
    </div>
    <div class="col-lg-10 2016 news_desktop-article-group">
    {{range where .Site.Pages ".Params.class" "pressArticle"}}
      {{ if in .Params.publishedOn "2016" }}
        <div class="row news_article">
          <div class="col-lg-9">
            <h4 class="news_article-name"><a href="{{.Params.link}}" target="_blank" class="news_article-name-link">{{.Params.articleName}}</a></h4>
          </div>
          <div class="col-lg-3">
            <span class="news_press-source">{{.Params.publishedBy}}</span>
          </div>
          <div class="col-lg-12">
            <p class="news_press-date">{{.Params.publishedOn}}</p>
          </div>
          <div class="spacer30"></div>
        </div>
      {{end}}
    {{end}}
    </div>
    <div class="col-lg-10 2015 news_desktop-article-group">
      {{range where .Site.Pages ".Params.class" "pressArticle"}}
        {{ if in .Params.publishedOn "2015" }}
          <div class="row news_article">
            <div class="col-lg-9">
              <h4 class="news_article-name"><a href="{{.Params.link}}" target="_blank" class="news_article-name-link">{{.Params.articleName}}</a></h4>
            </div>
            <div class="col-lg-3">
              <span class="news_press-source">{{.Params.publishedBy}}</span>
            </div>
            <div class="col-lg-12">
              <p class="news_press-date">{{.Params.publishedOn}}</p>
            </div>
            <div class="spacer30"></div>
        </div>
        {{end}}
      {{end}}
    </div>
    <div class="col-lg-10 2014 news_desktop-article-group">
      {{range where .Site.Pages ".Params.class" "pressArticle"}}
        {{ if in .Params.publishedOn "2014" }}
          <div class="row news_article">
            <div class="col-lg-9">
              <h4 class="news_article-name"><a href="{{.Params.link}}" target="_blank" class="news_article-name-link">{{.Params.articleName}}</a></h4>
            </div>
            <div class="col-lg-3">
              <span class="news_press-source">{{.Params.publishedBy}}</span>
            </div>
            <div class="col-lg-12">
              <p class="news_press-date">{{.Params.publishedOn}}</p>
            </div>
            <div class="spacer30"></div>
          </div>
        {{end}}
      {{end}}
    </div>
    <div class="spacer30"></div>
    <div id="loadMore">
      <p class="news_load-more-btn">Load More</p>
    </div>
    <div class="spacer125"></div>
  </div>
</div>
</div>

<script type="text/javascript">

  $(document).ready(function(){

    $(".current-year .news_article").slice(0, 4).css("display", "flex");
    $("#loadMore").click(function(e){ // click event for load more
      e.preventDefault();
      if($(".current-year .news_article:hidden").length !== 0){ // check if any hidden divs still exist
        $(".current-year .news_article:hidden").slice(0, 4).css("display", "flex");
      } else if($(".current-year .news_article:hidden").length === 0){
        $("#loadMore").hide()
      }
    });

    $(".news_year").click(function(e){
      e.preventDefault();
      var year = $(event.target).text()
      $(".active").removeClass('active')
      $(e.target).addClass('active')
      $(".current-year").removeClass('current-year')
      $("." + year).addClass('current-year')
      $(".current-year .news_article").slice(0, 4).css("display", "flex");
      if($(".current-year .news_article:hidden").length > 0){
        $("#loadMore").show()
      } else if($(".current-year .news_article:hidden").length === 0){
        $("#loadMore").hide()
      }
    });

    if($(".current-year .news_article:hidden").length === 0){
      $("#loadMore").hide()
    }



    $(".news_mobile-article-group .news_article").slice(0, 4).css("display", "flex");

    $("#loadMore").click(function(e){ // click event for load more
      e.preventDefault();
      if($(".news_mobile-article-group .news_article:hidden").length !== 0){ // check if any hidden divs still exist
        $(".news_mobile-article-group .news_article:hidden").slice(0, 4).css("display", "flex");
      } else if($(".news_mobile-article-group .news_article:hidden").length === 0){
        $("#loadMore").hide()
      }
    });


  })


</script>
<!--   {{range where .Site.Pages.ByPublishDate.Reverse ".Params.class" "newPressArticle" }}
        <div class="row">
          <div class="col-xs-12 col-sm-3 col-lg-2">
            <p class="press-date"> {{ dateFormat "January 2, 2006" .Params.publishdate }}</p>
          </div>
          <div class="col-xs-12 col-sm-9 col-lg-10">
            <span class="press-source">{{.Params.publishedBy}}</span>
            <h4><a href="{{.Params.link}}" target="_blank" class="press-title link">{{.Params.articleName}}</a></h4>
          </div>
        </div>
        <hr>
{{end}}
</div>
</div> -->
